<div class="box_alerts existing_alerts">
    {% include 'Product/alerts_table.html.twig' %}
</div>

<div class="box_form">
    <div class="box_flex form">
        <button class="btn-outline btn_alert_info"><i class="icon-help"></i> Learn</button>
        <button class="btn-green btn_create_alert"><i class="xiv-app_drawer_news"></i> Create Alert</button>
    </div>
</div>

{# Create a new alert #}
<div class="modal alert_modal">
    <div class="modal_row">
        <div class="modal_form_row_1">
            <h1>Create a new alert</h1>
        </div>

        {# alert form #}
        {% if auth.online() %}
        <form method="post" class="modal_form create_alert_form">
            {# hidden stuff #}
            <input type="hidden" id="alert_item_id" value="{{ item.ID }}">

            {# Name #}
            <div class="modal_form_row_1">
                <div class="row_flex_2">
                    <div>
                        <input name="alert_name" id="alert_name" type="text" placeholder="Name" class="full big">
                    </div>
                </div>
            </div>
            <div class="modal_form_row_1">
                <p>Setup the trigger conditions for your alerts.</p>
            </div>

            {# Trigger Conditions #}
            <div class="modal_form_row_2">
                <div>
                    <select name="alert_option" id="alert_option" class="full">
                        {% for id, type in alertTriggers() %}
                            <option value="{{ id }}">{{ type }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <input name="alert_value" id="alert_value" type="text" placeholder="[X] Condition" class="full">
                </div>
            </div>

            {# HQ and HQ #}
            <div class="modal_form_row_2">
                <div>
                    <div class="checkbox">
                        <input type="checkbox" id="alert_nq">
                        <label for="alert_nq">NQ Condition</label>
                    </div>
                </div>
                <div>
                    <div class="checkbox">
                        <input type="checkbox" id="alert_hq">
                        <label for="alert_hq">HQ Condition</label>
                    </div>
                </div>
            </div>

            {# Server or DC #}
            <p>
                By default, your alert will trigger for prices only on your
                Server, however you can choose to make this Data-Center wide.
            </p>
            <div class="modal_form_row_1">
                <div>
                    <div class="checkbox">
                        <input type="checkbox" id="alert_dc">
                        <label for="alert_dc">Scan entire Data Center</label>
                    </div>
                </div>
            </div>

            {# Notification Options #}
            <p>Choose you want to be notified</p>
            <div class="modal_form_row_2">
                <div>
                    <div class="checkbox">
                        <input type="checkbox" id="alert_notify_email">
                        <label for="alert_notify_email">Email <em>({{ auth.user.email }})</em></label>
                    </div>
                </div>
                <div>
                    <div class="checkbox">
                        <input type="checkbox" id="alert_notify_discord">
                        <label for="alert_notify_discord">Discord <em>({{ auth.user.username }})</em></label>
                    </div>
                </div>
            </div>

            {# done #}
            <div class="modal_form_end">
                <button type="submit" class="btn-green btn_create_alert">Create Alert</button>
            </div>
        </form>
        {% else %}
        <p>To create an alert, you must be logged into the site. You can do this very easy via Discord.</p>
        <p>
            <a href="{{ path('user_login_discord') }}" class="btn-login">Login via Discord</a>
        </p>
        {% endif %}
    </div>
</div>

{# Information about alerts #}
<div class="modal alert_info">
    <div class="row row_top">
        <h1>What are alerts?</h1>
        <p>
            Alerts allow you to setup notification watchers that can track an item
            and send you information such as price changes or market trends!
        </p>
    </div>
    <div class="row row_top">
        <h1>The types of alerts</h1>
        <p>
            <strong>Triggers</strong> are fired when a specific condition
            is met, this could be an item being listed below X price or a certain player purchases something.
            All triggers send notifications based on your communication choice and
            statistics will appear on the home page when you are logged in.
        </p>
        <p>
            Triggers are fired immediately once the condition is met. The conditions are
            checked at set time intervals based on your accounts status; this could be
            every day, hour or sometimes every minute.
        </p>
        <p>
            <em>
                All triggers expire after 1 month if: They've not been set off or you have
                not logged into the site for some time
            </em>
        </p>
        <br>
        <p>
            <strong>Reports</strong>. You can request a weekly report on an item that will provide
            you trends, buying/selling information and provide you with profitability results. These
            are great if you're interested in an item to see its market potential.
        </p>
    </div>
    <div class="row">
        <h1>Supported notification methods</h1>
        <p>Right now 2 methods of being notified are supported:</p>
        <div class="table">
            <table class="table">
                <tbody>
                <tr>
                    <td width="50%">Email</td>
                    <td>Discord</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
