var mogboard=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/ui/",n(n.s="UmG/")}({"UmG/":function(e,t,n){"use strict";n.r(t);n("dvoH");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"init",value:function(){var e=localStorage.getItem("server");e=e||"Phoenix",localStorage.setItem("server",e)}},{key:"getServer",value:function(){return localStorage.getItem("server")}},{key:"setServer",value:function(e){localStorage.setItem("server",e),this.init()}}])&&r(t.prototype,n),a&&r(t,a),e}());function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=localStorage.getItem("language");e=e||"eu",localStorage.setItem("language",e)}},{key:"getLanguage",value:function(){return localStorage.getItem("language")}},{key:"setLanguage",value:function(e){localStorage.setItem("language",e),this.init()}}])&&i(t.prototype,n),r&&i(t,r),e}());function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiCurrentOpenCatList=null,this.uiButtons=$(".search .search-bar"),this.uiCatList=$(".search .categories")}var t,n,r;return t=e,(n=[{key:"watch",value:function(){var e=this;this.uiButtons.on("click","button",function(t){var n=$(t.currentTarget).attr("id");e.toggleDropdownMenu(n)}),$(document).mouseup(function(t){var n=e.uiButtons.find("button"),r=e.uiCatList.find(".open");n.is(t.target)||0!==n.has(t.target).length||r.is(t.target)||0!==r.has(t.target).length||(e.uiButtons.find(".active").removeClass("active"),e.uiCatList.find(".open").removeClass("open"),e.uiCurrentOpenCatList=null)})}},{key:"toggleDropdownMenu",value:function(e){this.hideDropdownMenus(),this.uiCurrentOpenCatList!==e?(this.uiButtons.find("#".concat(e)).addClass("active"),this.uiCatList.find(".".concat(e)).addClass("open"),this.uiCurrentOpenCatList=e):this.uiCurrentOpenCatList=null}},{key:"hideDropdownMenus",value:function(){this.uiButtons.find(".active").removeClass("active"),this.uiCatList.find(".open").removeClass("open"),this.uiCurrentOpenCatList=null}}])&&u(t.prototype,n),r&&u(t,r),e}());function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getItemCategoryList",value:function(e,t){var n=app.url_item_category_list.replace("-id-",e);fetch(n,{mode:"cors"}).then(function(e){return e.text()}).then(t)}},{key:"getItemPrices",value:function(e,t,n){var r=app.url_product_price.replace("-server-",e).replace("-id-",t);fetch(r,{mode:"cors"}).then(function(e){return e.text()}).then(n)}},{key:"getItemHistory",value:function(e,t,n){var r=app.url_product_history.replace("-server-",e).replace("-id-",t);fetch(r,{mode:"cors"}).then(function(e){return e.text()}).then(n)}}])&&s(t.prototype,n),r&&s(t,r),e}());function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiView=$(".search-ui"),this.uiCatList=$(".search .categories")}var t,n,r;return t=e,(n=[{key:"watch",value:function(){var e=this;this.uiCatList.find("button").on("click",function(t){c.hideDropdownMenus();var n=$(t.currentTarget).attr("id");l.getItemCategoryList(n,function(t){e.uiView.html(t)})})}}])&&f(t.prototype,n),r&&f(t,r),e}());function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"get",value:function(e,t,n){(t=t||{}).key=app.xivapi_key,t.tags="mogboardv2",t.language=localStorage.getItem("language"),e=e+"?"+Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),fetch("https://xivapi.com".concat(e),{mode:"cors"}).then(function(e){return e.json()}).then(n)}},{key:"search",value:function(e,t){var n={indexes:"item",filters:"ItemSearchCategory.ID>=1",columns:"ID,Icon,Name,LevelItem,Rarity,ItemSearchCategory.Name,ItemSearchCategory.ID,ItemKind.Name",string:e.trim(),limit:100};this.get("/search",n,t)}},{key:"getItem",value:function(e,t){this.get("/Item/".concat(e),{},t)}},{key:"getServerList",value:function(e){this.get("/servers/dc",{},e)}}])&&v(t.prototype,n),r&&v(t,r),e}());function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=$(".search-bar input"),this.ui=$(".search-ui"),this.timeout=null,this.timeoutDelay=200,this.searchTerm=null}var t,n,r;return t=e,(n=[{key:"watch",value:function(){var e=this;this.input.on("keyup",function(t){clearTimeout(e.timeout);var n=$(t.currentTarget).val().trim();e.searchTerm===n||n.length<2?e.searchTerm=n:(e.searchTerm=n,e.timeout=setTimeout(function(){p.search(n,function(t){e.render(t)})},e.timeoutDelay))})}},{key:"render",value:function(e){var t=[];e.Results.forEach(function(e,n){var r=app.url_product.replace("-id-",e.ID);t.push('<a href="'.concat(r,'" class="rarity-').concat(e.Rarity,'">\n                    <span><img src="http://xivapi.com/mb/loading.svg" class="lazy" data-src="https://xivapi.com').concat(e.Icon,'"></span>\n                    <span>').concat(e.LevelItem,"</span>\n                    ").concat(e.Name,"\n                    <span>").concat(e.ItemSearchCategory.Name,"</span>\n                </a>"))}),this.ui.html('\n            <div class="item-search-list">\n                <h2>Found '.concat(e.Pagination.Results," / ").concat(e.Pagination.ResultsTotal," for <strong>").concat(this.searchTerm,"</strong></h2>\n                ").concat(t.join(""),"\n            </div>\n        ")),new LazyLoad({elements_selector:".lazy"})}}])&&g(t.prototype,n),r&&g(t,r),e}());function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ui=null}var t,n,r;return t=e,(n=[{key:"setUi",value:function(e){return this.ui=$(e),this}},{key:"fetch",value:function(e,t){var n=this;this.ui.html("Loading item prices ...");var r=a.getServer();l.getItemPrices(r,e,function(e){n.ui.html(e),t()})}}])&&y(t.prototype,n),r&&y(t,r),e}());function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ui=null}var t,n,r;return t=e,(n=[{key:"setUi",value:function(e){return this.ui=$(e),this}},{key:"fetch",value:function(e,t){var n=this;this.ui.html("Loading item history ...");var r=a.getServer();l.getItemHistory(r,e,function(e){n.ui.html(e),t()})}}])&&b(t.prototype,n),r&&b(t,r),e}());a.init(),o.init(),c.watch(),h.watch(),m.watch();t.default={ProductPricing:d,ProductHistory:w}},dvoH:function(e,t){Object.prototype.forEach||Object.defineProperty(Object.prototype,"forEach",{value:function(e,t){if(null===this)throw new TypeError("Not an object");for(var n in t=t||window,this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)}})}}).default;